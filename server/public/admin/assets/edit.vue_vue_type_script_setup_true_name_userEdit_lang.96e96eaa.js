import{a1 as le,a2 as ue,k as A,C as ae,D as oe,w as te,H as se,I as ne,c as de,F as re}from"./element-plus.0f699047.js";import{_ as pe}from"./picker.47452789.js";import{P as ie}from"./index.843862c8.js";import{a as me,s as _e,b as ye,c as fe,d as ce,e as be}from"./users.fe601c15.js";import{t as C}from"./index.09fadf67.js";import{a as Fe}from"./yb_plat_type.e65d98cb.js";import{d as L,s as h,r as v,b as Ve,a0 as M,af as ve,o as s,c as _,W as o,O as t,u as a,M as p,T as D,V as f,a7 as c,S as i,a as R,U as I}from"./@vue.c3e77981.js";const De={class:"edit-popup"},Ee=L({name:"userEdit"}),he=L({...Ee,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(we,{expose:P,emit:S}){const g=S,z=h(),E=h(),w=v("add");v("");const G=[{value:2,label:"\u8F6C\u51FA"},{value:1,label:"\u8F6C\u5165"}],N=[{value:1,label:"\u589E\u52A0"},{value:2,label:"\u964D\u4F4E"}],T=[{value:1,label:"\u662F"},{value:0,label:"\u5426"}],$=Ve(()=>e.is_show==2?"\u52A0/\u6263\u6B3E":e.is_show==3?"\u989D\u5EA6\u7BA1\u7406":w.value=="edit"?"\u7F16\u8F91\u7528\u6237\u8868":"\u65B0\u589E\u7528\u6237\u8868"),e=M({id:"",sn:"",avatar:"",real_name:"",nickname:"",account:"",password:"",mobile:"",is_disable:"",level_id:"",email:"",is_show:1,is_type:1,money:"",user_money:"",zzlx:"",zl_pt:"",zl_money:""}),O=v([]),x=async()=>{const n=await me({});console.log(n),O.value=n,k(0)};x();async function j(){const n=await _e({user_name:e.account,user_id:e.id,plat_type:e.zl_pt,money:e.zl_money,type:e.zzlx});A({message:"\u8F6C\u51FA\u6210\u529F",type:"success"}),console.log(n)}async function H(){await ye({user_name:e.account,user_id:e.id,plat_type:e.zl_pt,money:e.zl_money,type:e.zzlx}),A({message:"\u4E00\u952E\u8F6C\u51FA\u6210\u529F",type:"success"})}const B=v([]);async function k(n){let l="";n==1&&(l=e.account);const d=await Fe({page_no:1,page_size:500,user_name:l});B.value=d.lists}const W=M({}),U=async n=>{for(const l in e)n[l]!=null&&n[l]!=null&&(e[l]=n[l]);e.login_time=C(e.login_time,"yyyy-mm-dd hh:MM:ss"),e.create_time=C(e.create_time,"yyyy-mm-dd hh:MM:ss"),e.delete_time=C(e.delete_time,"yyyy-mm-dd hh:MM:ss")},Y=async n=>{const l=await fe({id:n.id});U(l)},q=async()=>{var l,d;await((l=z.value)==null?void 0:l.validate());const n={...e};w.value=="edit"?await ce(n):await be(n),(d=E.value)==null||d.close(),g("success")},J=(n="add")=>{var l;w.value=n,(l=E.value)==null||l.open()},K=()=>{g("close")};return P({open:J,setFormData:U,getDetail:Y}),(n,l)=>{const d=ae,r=oe,m=le,b=te,F=se,V=ne,y=ue,Q=ve("Refresh"),X=de,Z=pe,ee=re;return s(),_("div",De,[o(ie,{ref_key:"popupRef",ref:E,title:a($),async:!0,width:"80%",onConfirm:q,onClose:K},{default:t(()=>[o(ee,{ref_key:"formRef",ref:z,model:a(e),"label-width":"90px",rules:a(W)},{default:t(()=>[a(e).is_show==3?(s(),p(y,{key:0,gutter:20},{default:t(()=>[o(m,{span:8},{default:t(()=>[o(r,{label:"\u7528\u6237\u4F59\u989D",prop:"user_money"},{default:t(()=>[o(d,{modelValue:a(e).user_money,"onUpdate:modelValue":l[0]||(l[0]=u=>a(e).user_money=u),disabled:"",clearable:"",placeholder:"\u5F53\u524D\u7528\u6237\u4F59\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:15},{default:t(()=>[o(b,{type:"danger",onClick:x},{default:t(()=>[D("\u5237\u65B0\u4F59\u989D")]),_:1}),o(b,{type:"danger",onClick:l[1]||(l[1]=u=>k(1))},{default:t(()=>[D("\u4E00\u952E\u5237\u65B0")]),_:1}),o(b,{type:"danger",onClick:l[2]||(l[2]=u=>H())},{default:t(()=>[D("\u4E00\u952E\u8F6C\u51FA")]),_:1})]),_:1}),o(m,{span:6},{default:t(()=>[o(r,{label:"\u8F6C\u8D26\u7C7B\u578B",prop:"user_money"},{default:t(()=>[o(V,{modelValue:a(e).zzlx,"onUpdate:modelValue":l[3]||(l[3]=u=>a(e).zzlx=u),placeholder:"\u9009\u62E9\u8F6C\u8D26\u7C7B\u578B",size:"large",style:{width:"240px"}},{default:t(()=>[(s(),_(f,null,c(N,u=>o(F,{key:u.value,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(m,{span:6},{default:t(()=>[o(r,{label:"\u8F6C\u8D26\u5E73\u53F0",prop:"zl_pt"},{default:t(()=>[o(V,{modelValue:a(e).zl_pt,"onUpdate:modelValue":l[4]||(l[4]=u=>a(e).zl_pt=u),placeholder:"\u9009\u62E9\u8F6C\u8D26\u7C7B\u578B",size:"large",style:{width:"240px"}},{default:t(()=>[(s(!0),_(f,null,c(a(B),u=>(s(),p(F,{key:u.plat_type,label:u.game_title,value:u.plat_type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(m,{span:8},{default:t(()=>[o(r,{label:"\u8F6C\u8D26\u91D1\u989D",prop:"zl_money"},{default:t(()=>[o(d,{modelValue:a(e).zl_money,"onUpdate:modelValue":l[5]||(l[5]=u=>a(e).zl_money=u),clearable:"",placeholder:"\u8F6C\u8D26\u91D1\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:2},{default:t(()=>[o(b,{type:"success",onClick:l[6]||(l[6]=u=>j())},{default:t(()=>[D("\u989D\u5EA6\u8F6C\u6362")]),_:1})]),_:1})]),_:1})):i("",!0),a(e).is_show==3?(s(),p(y,{key:1},{default:t(()=>[o(m,{span:22,offset:1},{default:t(()=>[o(y,{gutter:5},{default:t(()=>[(s(!0),_(f,null,c(a(B),u=>(s(),p(m,{span:3,style:{border:"1px solid #999","border-radius":"5px","margin-top":"30px","margin-right":"10px"},key:u.id},{default:t(()=>[o(y,null,{default:t(()=>[o(m,{span:17,style:{"text-align":"center","border-right":"1px solid #999"}},{default:t(()=>[R("span",null,I(u.user_money),1)]),_:2},1024),o(m,{span:7,onClick:l[7]||(l[7]=Be=>k(1)),style:{"text-align":"center"}},{default:t(()=>[o(X,null,{default:t(()=>[o(Q)]),_:1})]),_:1})]),_:2},1024),o(y,null,{default:t(()=>[o(m,{span:24,style:{"text-align":"center","border-top":"1px solid #999",color:"red"}},{default:t(()=>[R("span",null,I(u.game_title),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:2,label:"\u9080\u8BF7\u7801",prop:"sn"},{default:t(()=>[o(d,{modelValue:a(e).sn,"onUpdate:modelValue":l[8]||(l[8]=u=>a(e).sn=u),disabled:"",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u9080\u8BF7\u7801"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:3,label:"\u5934\u50CF",prop:"avatar"},{default:t(()=>[o(Z,{disabled:"",modelValue:a(e).avatar,"onUpdate:modelValue":l[9]||(l[9]=u=>a(e).avatar=u)},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:4,label:"\u771F\u5B9E\u59D3\u540D",prop:"real_name"},{default:t(()=>[o(d,{modelValue:a(e).real_name,"onUpdate:modelValue":l[10]||(l[10]=u=>a(e).real_name=u),disabled:"",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:5,label:"\u7528\u6237\u6635\u79F0",prop:"nickname"},{default:t(()=>[o(d,{modelValue:a(e).nickname,"onUpdate:modelValue":l[11]||(l[11]=u=>a(e).nickname=u),disabled:"",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:6,label:"\u7528\u6237\u8D26\u53F7",prop:"account"},{default:t(()=>[o(d,{modelValue:a(e).account,"onUpdate:modelValue":l[12]||(l[12]=u=>a(e).account=u),disabled:"",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u8D26\u53F7"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:7,label:"\u7528\u6237\u5BC6\u7801",prop:"password"},{default:t(()=>[o(d,{modelValue:a(e).password,"onUpdate:modelValue":l[13]||(l[13]=u=>a(e).password=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5BC6\u7801 \u7559\u7A7A\u4E3A\u4E0D\u4FEE\u6539"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:8,label:"\u7528\u6237\u7535\u8BDD",prop:"mobile"},{default:t(()=>[o(d,{modelValue:a(e).mobile,"onUpdate:modelValue":l[14]||(l[14]=u=>a(e).mobile=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u7535\u8BDD"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==2?(s(),p(r,{key:9,label:"\u589E\u52A0/\u964D\u4F4E",prop:"is_type"},{default:t(()=>[o(V,{modelValue:a(e).is_type,"onUpdate:modelValue":l[15]||(l[15]=u=>a(e).is_type=u),placeholder:"Select",size:"large",style:{width:"240px"}},{default:t(()=>[(s(),_(f,null,c(G,u=>o(F,{key:u.value,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==2?(s(),p(r,{key:10,label:"\u91D1\u989D",prop:"money"},{default:t(()=>[o(d,{modelValue:a(e).money,"onUpdate:modelValue":l[16]||(l[16]=u=>a(e).money=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8C03\u6574\u91D1\u989D"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:11,label:"\u662F\u5426\u7981\u7528",prop:"is_disable"},{default:t(()=>[o(V,{modelValue:a(e).is_disable,"onUpdate:modelValue":l[17]||(l[17]=u=>a(e).is_disable=u),placeholder:"\u9009\u62E9\u662F\u5426\u7981\u7528",size:"large",style:{width:"240px"}},{default:t(()=>[(s(),_(f,null,c(T,u=>o(F,{key:u.value,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:12,label:"VIP\u7B49\u7EA7",prop:"level_id"},{default:t(()=>[o(d,{modelValue:a(e).level_id,"onUpdate:modelValue":l[18]||(l[18]=u=>a(e).level_id=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165VIP\u7B49\u7EA7"},null,8,["modelValue"])]),_:1})):i("",!0),a(e).is_show==1?(s(),p(r,{key:13,label:"\u7528\u6237\u90AE\u7BB1",prop:"email"},{default:t(()=>[o(d,{modelValue:a(e).email,"onUpdate:modelValue":l[19]||(l[19]=u=>a(e).email=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u90AE\u7BB1"},null,8,["modelValue"])]),_:1})):i("",!0)]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{he as _};
